<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		xmlns:sec = "http://www.thymeleaf.org/extras/spring-security">
<th:block th:replace="~{common/layout::setContent(~{this::content})}">
<th:block th:fragment="content">

	<div class="card m-2">
		<div class="card-header">
			Spring Security
		</div>
		<div class="card-body">
			<div>
				<div sec:authorize="!isAuthenticated()">
					<a href="joinForm" class="btn btn-outline-success btn-sm">회원가입</a>
					<a href="loginForm" class="btn btn-success btn-sm">로그인</a>
				</div>
				<div sec:authorize="isAuthenticated()">
					<a th:href="@{/logout}" class="btn btn-dark btn-sm">로그아웃</a>
					<hr/>
					<dir>User : [[${#authentication.name}]]</dir>
					<dir>User email : [[${#authentication.principal.useremail}]]</dir>
					<dir>User Roles : [[${#authentication.authorities}]]</dir>
					<hr/>
					<div>
						<div sec:authorize="hasRole('ROLE_ADMIN')">
							ROLE_ADMIN 보세요~
						</div>
						<div sec:authorize="hasRole('ROLE_MANAGER')">
							ROLE_MANAGER 보세요~
						</div>
						<div sec:authorize="hasRole('ROLE_USER')">
							ROLE_USER 보세요~
						</div>
					</div>
				</div>
			</div>
			<hr/>
			<div>
			   <a href="admin/action" class="btn btn-danger btn-sm">Admin 액션</a>   
			   <a href="manager/action" class="btn btn-info btn-sm">Manager 액션</a>
			   <a href="user/action" class="btn btn-primary btn-sm">User 액션</a>
			</div>
		</div>
		
	</div>
	
</th:block>
</th:block>
</html>